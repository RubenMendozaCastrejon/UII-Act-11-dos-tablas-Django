{% extends 'base.html' %}
{% block titulo %}{{ usuario.nombre }} {{ usuario.apellido }} | Investech{% endblock %} {# T√≠tulo din√°mico para el usuario #}

{% block contenido %}
<article class="user-detail"> {# Clase CSS para el detalle de usuario #}
    <div class="user-banner"> {# Clase CSS para el banner de usuario #}
        {% if usuario.foto_perfil %} {# Usando 'foto_perfil' del modelo Usuario #}
            <img src="{{ usuario.foto_perfil.url }}" alt="Foto de {{ usuario.nombre }} {{ usuario.apellido }}" class="detail-photo">
        {% else %}
            <div class="detail-placeholder">üë§</div> {# Icono de usuario #}
        {% endif %}
        <div class="user-info"> {# Clase CSS para la informaci√≥n de usuario #}
            <h1>{{ usuario.nombre }} {{ usuario.apellido }}</h1> {# Nombre y apellido del usuario #}
            <h3>Email: {{ usuario.email }}</h3> {# Email del usuario #}
            <p>Registrado el: {{ usuario.fecha_registro|date:"d M Y H:i" }}</p> {# Fecha de registro #}
            <p>Saldo: {{ usuario.saldo_cuenta }} {{ usuario.moneda }}</p> {# Saldo y moneda #}
        </div>
    </div>

    <div class="detail-actions">
        <a href="{% url 'app_Usuario:editar_usuario' usuario.id %}" class="btn btn-secondary">‚úèÔ∏è Editar Usuario</a>
        <a href="{% url 'app_Usuario:borrar_usuario' usuario.id %}" class="btn btn-danger">üóëÔ∏è Borrar Usuario</a>
    </div>

    <section class="portfolio-section"> {# Secci√≥n para el portafolio del usuario #}
        <h2>Portafolio</h2>
        {% if usuario.portafolio %} {# Verificamos si el usuario tiene un portafolio relacionado #}
        <div class="user-portfolio-card"> {# Clase CSS para la tarjeta de portafolio de usuario #}
            <h3><a href="{% url 'app_Usuario:detalle_portafolio' usuario.portafolio.id %}">{{ usuario.portafolio.nombre }}</a></h3>
            <p>Valor Total: {{ usuario.portafolio.valor_total }} {{ usuario.moneda }}</p>
            {% if usuario.portafolio.descripcion %}
                <p>Descripci√≥n: {{ usuario.portafolio.descripcion }}</p>
            {% endif %}
            <p>√öltima Actualizaci√≥n: {{ usuario.portafolio.fecha|date:"d M Y H:i" }}</p>
            <a href="{% url 'app_Usuario:editar_portafolio' usuario.portafolio.id %}" class="btn btn-sm btn-info">Editar Portafolio</a>
        </div>
        {% else %}
        <p class="empty-message">Este usuario no tiene un portafolio registrado. <a href="{% url 'app_Usuario:crear_portafolio' %}">Crear Portafolio</a></p>
        {% endif %}
    </section>
</article>
{% endblock %}